[{"C:\\Users\\dmama\\Desktop\\Projects\\fanciwork\\client\\src\\index.js":"1","C:\\Users\\dmama\\Desktop\\Projects\\fanciwork\\client\\src\\App.js":"2","C:\\Users\\dmama\\Desktop\\Projects\\fanciwork\\client\\src\\redux\\store.js":"3","C:\\Users\\dmama\\Desktop\\Projects\\fanciwork\\client\\src\\redux\\collapseSlice.js":"4","C:\\Users\\dmama\\Desktop\\Projects\\fanciwork\\client\\src\\redux\\tagSlice.js":"5","C:\\Users\\dmama\\Desktop\\Projects\\fanciwork\\client\\src\\components\\Sidebar\\index.js":"6","C:\\Users\\dmama\\Desktop\\Projects\\fanciwork\\client\\src\\components\\Results\\index.js":"7","C:\\Users\\dmama\\Desktop\\Projects\\fanciwork\\client\\src\\components\\Results\\Tag\\index.js":"8","C:\\Users\\dmama\\Desktop\\Projects\\fanciwork\\client\\src\\components\\Sidebar\\TagInput\\index.js":"9","C:\\Users\\dmama\\Desktop\\Projects\\fanciwork\\client\\src\\components\\Results\\Job\\index.js":"10"},{"size":516,"mtime":1611245614126,"results":"11","hashOfConfig":"12"},{"size":1963,"mtime":1611247194336,"results":"13","hashOfConfig":"12"},{"size":251,"mtime":1610491999409,"results":"14","hashOfConfig":"12"},{"size":408,"mtime":1610996733975,"results":"15","hashOfConfig":"12"},{"size":1135,"mtime":1610969767746,"results":"16","hashOfConfig":"12"},{"size":2320,"mtime":1611239135461,"results":"17","hashOfConfig":"12"},{"size":5216,"mtime":1611247399397,"results":"18","hashOfConfig":"12"},{"size":2061,"mtime":1611234516384,"results":"19","hashOfConfig":"12"},{"size":3786,"mtime":1611239900156,"results":"20","hashOfConfig":"12"},{"size":2292,"mtime":1611239776799,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"1nzrrro",{"filePath":"25","messages":"26","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27","usedDeprecatedRules":"24"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38","usedDeprecatedRules":"24"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"44"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"C:\\Users\\dmama\\Desktop\\Projects\\fanciwork\\client\\src\\index.js",[],["47","48"],"C:\\Users\\dmama\\Desktop\\Projects\\fanciwork\\client\\src\\App.js",["49"],"import { React, useEffect } from 'react';\r\nimport './www/materialize.min.css';\r\nimport './www/App.css';\r\nimport Sidebar from './components/Sidebar';\r\nimport Results from './components/Results';\r\nimport { useLocation } from 'react-router-dom';\r\nimport {\r\n  selectLikes,\r\n  selectDislikes,\r\n  resetFilters\r\n} from './redux/tagSlice';\r\nimport {\r\n  addLike,\r\n  addDislike\r\n} from './redux/tagSlice';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nfunction useQuery() {\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nfunction App(props) {\r\n  // Routing\r\n  const query = useQuery();\r\n  const urlLikes = query.get(\"l\");\r\n  const urlDislikes = query.get(\"d\");\r\n\r\n  // Redux\r\n  const likes = useSelector(selectLikes);\r\n  const dislikes = useSelector(selectDislikes)\r\n  const dispatch = useDispatch();\r\n\r\n  // Encode likes and dislikes to URL\r\n  useEffect(() => {\r\n    let params = {};\r\n    if(likes.length) params['l'] = likes;\r\n    if(dislikes.length) params['d'] = dislikes;\r\n\r\n    let queryString;\r\n    if(likes.length || dislikes.length) {\r\n      queryString = '?' + Object.keys(params).map(key => key + '=' + params[key]).join('&');\r\n    } else {\r\n      queryString = \"\"\r\n    }\r\n\r\n    props.history.push(queryString)\r\n  }, [likes, dislikes, props.history])\r\n\r\n  // Decode URL to likes and dislikes\r\n  useEffect(() => {\r\n    if(urlLikes || urlDislikes) dispatch(resetFilters())\r\n    if(urlLikes) {\r\n      let likes = urlLikes.split(',');\r\n      for(let i = 0; i < likes.length; i++) {\r\n        dispatch(addLike(likes[i]))\r\n      }\r\n    }\r\n    if(urlDislikes) {\r\n      let dislikes = urlDislikes.split(',');\r\n      for(let i = 0; i < dislikes.length; i++) {\r\n        dispatch(addDislike(dislikes[i]))\r\n      }\r\n    }\r\n  }, [urlLikes, urlDislikes])\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Sidebar ph = {['Show me jobs related to...', \"Don't show me jobs related to...\"]} />\r\n      <Results />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;","C:\\Users\\dmama\\Desktop\\Projects\\fanciwork\\client\\src\\redux\\store.js",[],"C:\\Users\\dmama\\Desktop\\Projects\\fanciwork\\client\\src\\redux\\collapseSlice.js",[],"C:\\Users\\dmama\\Desktop\\Projects\\fanciwork\\client\\src\\redux\\tagSlice.js",[],"C:\\Users\\dmama\\Desktop\\Projects\\fanciwork\\client\\src\\components\\Sidebar\\index.js",[],"C:\\Users\\dmama\\Desktop\\Projects\\fanciwork\\client\\src\\components\\Results\\index.js",["50"],"import { React, useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport {\r\n  selectCollapse,\r\n} from '../../redux/collapseSlice';\r\nimport {\r\n  selectLikes,\r\n  selectDislikes,\r\n  addTags,\r\n  resetFilters\r\n} from '../../redux/tagSlice';\r\nimport './style.css';\r\nimport Job from './Job';\r\nimport Tag from './Tag';\r\nimport { Icon, Toast } from 'react-materialize';\r\n\r\n// A preloader spinner\r\nfunction Spinner() {\r\n  return(\r\n    <div className=\"preloader-wrapper big active\">\r\n      <div className=\"spinner-layer spinner-blue\">\r\n        <div className=\"circle-clipper left\">\r\n          <div className=\"circle\"></div>\r\n        </div><div className=\"gap-patch\">\r\n          <div className=\"circle\"></div>\r\n        </div><div className=\"circle-clipper right\">\r\n          <div className=\"circle\"></div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"spinner-layer spinner-red\">\r\n        <div className=\"circle-clipper left\">\r\n          <div className=\"circle\"></div>\r\n        </div><div className=\"gap-patch\">\r\n          <div className=\"circle\"></div>\r\n        </div><div className=\"circle-clipper right\">\r\n          <div className=\"circle\"></div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"spinner-layer spinner-yellow\">\r\n        <div className=\"circle-clipper left\">\r\n          <div className=\"circle\"></div>\r\n        </div><div className=\"gap-patch\">\r\n          <div className=\"circle\"></div>\r\n        </div><div className=\"circle-clipper right\">\r\n          <div className=\"circle\"></div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"spinner-layer spinner-green\">\r\n        <div className=\"circle-clipper left\">\r\n          <div className=\"circle\"></div>\r\n        </div><div className=\"gap-patch\">\r\n          <div className=\"circle\"></div>\r\n        </div><div className=\"circle-clipper right\">\r\n          <div className=\"circle\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Container displaying job postings found\r\nfunction Results() {\r\n  // State\r\n  const [ads, updateAds] = useState([]); // An array of objects containing job details\r\n  const [matches, setMatches] = useState(true); // Are there any jobs matching the criteria?\r\n\r\n  // Redux\r\n  const collapsed = useSelector(selectCollapse); // Is the sidenav collapsed?\r\n  const likes = useSelector(selectLikes); // Array of liked tags\r\n  const dislikes = useSelector(selectDislikes); // Array of disliked tags\r\n  const dispatch = useDispatch();\r\n\r\n  // Fetch from API, passing the liked and disliked tags.\r\n  useEffect(() => {\r\n    updateAds([]); // Reset previous ads\r\n    fetch(\"/\", {\r\n      method: 'POST',\r\n      body: JSON.stringify({with: likes, without: dislikes})\r\n    })\r\n      .then(res => res.json())\r\n      .then(\r\n        (result) => {\r\n          updateAds(result.jobs) // Update state with found jobs.\r\n          setMatches(!result.no_matches) // Update no matches status\r\n\r\n          dispatch(addTags(result.tags)) // Update the global list of visible tags\r\n        },\r\n        (error) => {\r\n          console.log(error)\r\n          console.log(\"Error fetching from remoteok\")\r\n        }\r\n      );\r\n\r\n  }, [likes, dislikes]);\r\n\r\n  // Copy link to clipboard on \"Share\" btn click\r\n  const copyShareLink = (e) => {\r\n    navigator.clipboard.writeText(window.location.href)\r\n  }\r\n\r\n  // Default content: a preloader spinner\r\n  var jobs = <Spinner />\r\n\r\n  // as soon as there are jobs, replace the spinner with an array of job elements\r\n  if(ads.length > 0) {\r\n    jobs = ads.map((a, i) => <Job key = {`job${i}`} title = {a.position} url = {a.url} tags = {a.tags} logo = {a.company_logo} company = {a.company}>{a.description}</Job>)\r\n  }\r\n\r\n  // If there are any filters, display SHARE and RESET btns\r\n  const reset = likes.length > 0 || dislikes.length > 0 ? <div className=\"reset-btn\">\r\n    <button className=\"waves-effect waves-teal btn-flat\" onClick = {() => dispatch(resetFilters())}>Reset</button>\r\n    {matches && <span onClick={copyShareLink}><Toast onClick={copyShareLink} className=\"sharetoast\" options={{ html: 'Link copied to clipboard!'}}><Icon>share</Icon></Toast></span>}\r\n  </div> : \"\"\r\n\r\n  // Box informing of the number of jobs found (or no matching jobs error message)\r\n  var matches_info = <div className=\"matches-info no-matches\" style={{backgroundImage: `url(${require('../../www/disappointed.png').default})`}}>No matching jobs{reset}</div>;\r\n  if(matches) {\r\n    matches_info = <div className=\"matches-info\">{ads.length} matching jobs found on <a href=\"https://remoteok.io/\" target=\"_blank\" rel=\"noreferrer\">remoteOK</a>{reset}</div>;\r\n  }\r\n\r\n  // Create a tag element for each filter applied\r\n  const tags = likes.map((t, i) => <Tag key = {`tag${i}`}>{t}</Tag>).concat(dislikes.map((t, i) => <Tag key = {`tag${i + likes.length + 1}`}>{t}</Tag>));\r\n\r\n  return (\r\n    <div className = {\"results\" + (collapsed ? \" expanded\" : \"\")} data-test=\"results\">\r\n      <div className=\"tags\">\r\n        {collapsed ? tags : \"\"}\r\n      </div>\r\n      <ul className=\"collapsible\">\r\n        {ads.length > 0 || !matches ? matches_info : \"\"}\r\n      </ul>\r\n      {matches ? <ul className=\"collapsible\">{jobs}</ul> : \"\"}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Results;","C:\\Users\\dmama\\Desktop\\Projects\\fanciwork\\client\\src\\components\\Results\\Tag\\index.js",[],"C:\\Users\\dmama\\Desktop\\Projects\\fanciwork\\client\\src\\components\\Sidebar\\TagInput\\index.js",["51"],"import { React, useState, useEffect, useRef } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport './style.css';\r\nimport { Autocomplete, Icon } from 'react-materialize';\r\nimport {\r\n  selectTags,\r\n  addLike,\r\n  addDislike\r\n} from '../../../redux/tagSlice';\r\nimport PropTypes from 'prop-types';\r\n\r\n// Get an Array of placeholders to be assigned sequentially\r\n// Each element takes the previous and adds or removes a character\r\nfunction getPlaceholders(phs) {\r\n  var phStrings = [];\r\n  phs.forEach(x => {\r\n    const len = x.length\r\n    for(let i = 1; i < len + 1; i++) {\r\n      phStrings.push(x.substring(0, i))\r\n    }\r\n  \r\n    phStrings.push(x)\r\n    phStrings.push(x)\r\n    phStrings.push(x)\r\n  \r\n    for(let i = 1; i < len; i++) {\r\n      phStrings.push(x.substring(0, len - i))\r\n    }\r\n  });\r\n\r\n  return(phStrings);\r\n}\r\n\r\nfunction TagInput(props) {\r\n  // State\r\n  const [placeholder, setPlaceholder] = useState(0); // Current placeholder index\r\n  const [paused, setPause] = useState(false); // Is the placeholder changing interval paused? (user is typing)\r\n  const [placeholderList, setPlaceholderList] = useState([]); // Array of placeholders to loop through\r\n  const [acKey, setACKey] = useState(0); // Key to be assigned to be autocomplete element (and force re-render)\r\n\r\n  // Redux\r\n  const tags = useSelector(selectTags); // List of available tags for the autocomplete\r\n  const dispatch = useDispatch();\r\n\r\n  // Misc\r\n  const intervalRef = useRef(); // Interval looping through the placeholders\r\n  const wrapper = useRef(); // Used to detect click outside the input\r\n\r\n  // Pause the placeholder loop because user is typing\r\n  const pause = () => {\r\n    setPause(true);\r\n  };\r\n\r\n  // Add a new tag to the filter\r\n  const addFilter = (e) => {\r\n    if(props.type === \"favorite\") {\r\n      dispatch(addLike(e));\r\n    } else {\r\n      dispatch(addDislike(e));\r\n    }\r\n    setACKey(acKey + 1);\r\n    setPause(false);\r\n  };\r\n\r\n  // Create a sequence of placeholders to loop through\r\n  useEffect(() => {\r\n    setPlaceholderList(getPlaceholders(props.placeholders.filter(x => typeof x !== 'undefined')));\r\n  }, [props.placeholders]);\r\n\r\n  // Create an interval looping through placeholders\r\n  useEffect(() => {\r\n    if(!paused) {\r\n      const interval = setInterval(() => {\r\n        setPlaceholder(placeholder => (placeholder + 1) % placeholderList.length);\r\n      }, 200);\r\n  \r\n      intervalRef.current = interval;\r\n    } else {\r\n      clearInterval(intervalRef.current);\r\n    }\r\n    return () => clearInterval(intervalRef.current);\r\n  }, [paused, placeholderList]);\r\n\r\n  // Listen for clicks outside the element (and resume placeholder animation when it happens)\r\n  useEffect(() => {\r\n    function handleClickOutside(event) {\r\n      if (wrapper.current && !wrapper.current.contains(event.target)) {\r\n        setPause(false);\r\n      }\r\n    }\r\n\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n\r\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n  }, [wrapper])\r\n\r\n  return (\r\n    <div className=\"ac-wrapper\" onClick={pause} ref = {wrapper} data-test=\"taginput\">\r\n      <Autocomplete\r\n              key ={acKey}\r\n              id={`autocomplete-${props.type}`}\r\n              icon={<Icon>{props.type}</Icon>}\r\n              options={{\r\n                onAutocomplete: addFilter,\r\n                data: tags.reduce((acc, curr) => (acc[curr] = null, acc), {})\r\n              }}\r\n              placeholder={paused ? \"\" : placeholderList[placeholder]}\r\n            />\r\n      {props.children}\r\n    </div>\r\n    \r\n  );\r\n}\r\n\r\nTagInput.propTypes = {\r\n  type: PropTypes.string, // Favorite or not_interested icon?\r\n  placeholders: PropTypes.arrayOf(PropTypes.string), // Placeholders for the loop\r\n}\r\n\r\nexport default TagInput;",["52","53"],"C:\\Users\\dmama\\Desktop\\Projects\\fanciwork\\client\\src\\components\\Results\\Job\\index.js",[],{"ruleId":"54","replacedBy":"55"},{"ruleId":"56","replacedBy":"57"},{"ruleId":"58","severity":1,"message":"59","line":64,"column":6,"nodeType":"60","endLine":64,"endColumn":29,"suggestions":"61"},{"ruleId":"58","severity":1,"message":"59","line":97,"column":6,"nodeType":"60","endLine":97,"endColumn":23,"suggestions":"62"},{"ruleId":"63","severity":1,"message":"64","line":105,"column":67,"nodeType":"65","messageId":"66","endLine":105,"endColumn":68},{"ruleId":"54","replacedBy":"67"},{"ruleId":"56","replacedBy":"68"},"no-native-reassign",["69"],"no-negated-in-lhs",["70"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["71"],["72"],"no-sequences","Unexpected use of comma operator.","SequenceExpression","unexpectedCommaExpression",["69"],["70"],"no-global-assign","no-unsafe-negation",{"desc":"73","fix":"74"},{"desc":"75","fix":"76"},"Update the dependencies array to be: [urlLikes, urlDislikes, dispatch]",{"range":"77","text":"78"},"Update the dependencies array to be: [likes, dislikes, dispatch]",{"range":"79","text":"80"},[1742,1765],"[urlLikes, urlDislikes, dispatch]",[3159,3176],"[likes, dislikes, dispatch]"]